<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS目标伪类(:target)详解</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 3px solid #3498db;
            padding-bottom: 15px;
        }
        h2 {
            color: #34495e;
            margin-top: 40px;
            margin-bottom: 20px;
            border-left: 5px solid #3498db;
            padding-left: 15px;
        }
        h3 {
            color: #7f8c8d;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        p {
            margin-bottom: 15px;
        }
        pre {
            background-color: #f0f0f0;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            border-left: 4px solid #e74c3c;
            margin: 20px 0;
        }
        code {
            color: #e74c3c;
            background-color: #f8f9fa;
            padding: 2px 4px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }
        .highlight {
            background-color: #fff3cd;
            padding: 2px 5px;
            border-radius: 3px;
            font-weight: bold;
        }
        .note {
            background-color: #e8f4fd;
            padding: 15px;
            border-left: 4px solid #3498db;
            margin: 20px 0;
            border-radius: 0 4px 4px 0;
        }
        .example {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 4px;
            margin: 20px 0;
            border: 1px solid #ddd;
        }
        .important {
            background-color: #ffeaa7;
            padding: 15px;
            border-radius: 4px;
            margin: 20px 0;
            font-weight: bold;
        }
        ul, ol {
            margin-left: 25px;
            margin-bottom: 20px;
        }
        li {
            margin-bottom: 8px;
        }
        /* 用于示例的目标伪类样式 */
        .target-example div:target {
            background-color: #e3f2fd;
            border: 2px solid #2196f3;
            padding: 15px;
            border-radius: 4px;
        }
        .tab-content {
            display: none;
            padding: 15px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-top: none;
            border-radius: 0 0 4px 4px;
        }
        .tab-content:target {
            display: block;
        }
        .faq-item {
            margin-bottom: 10px;
        }
        .faq-question {
            cursor: pointer;
            padding: 10px;
            background-color: #f1f1f1;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        .faq-question:hover {
            background-color: #e1e1e1;
        }
        .faq-answer {
            display: none;
            padding: 10px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-top: none;
            border-radius: 0 0 4px 4px;
        }
        .faq-answer:target {
            display: block;
        }
        /* 页面滚动到锚点时的平滑过渡 */
        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>CSS目标伪类(:target)详解</h1>
        
        <h2>1. 目标伪类(:target)的基本概念</h2>
        
        <p><code>:target</code>是CSS中的一个<strong>伪类选择器</strong>，它用于<strong>匹配当前URL片段所指向的元素</strong>。当URL的片段标识符（即URL中#后面的部分）与页面中某个元素的<code>id</code>属性值相匹配时，该元素就会被<code>:target</code>伪类选中。</p>
        
        <div class="important">
            <p>关键点：</p>
            <ul>
                <li><code>:target</code>伪类只在元素被URL片段指向时才会应用样式</li>
                <li>URL片段（锚点）必须与元素的<code>id</code>属性值完全匹配</li>
                <li>一个页面中同时只能有一个元素被<code>:target</code>选中（因为URL片段只能有一个）</li>
            </ul>
        </div>
        
        <h2>2. 目标伪类的基本用法</h2>
        
        <h3>2.1 基础设置</h3>
        
        <p>要使用<code>:target</code>伪类，需要完成以下两个步骤：</p>
        
        <ol>
            <li><strong>设置锚点元素</strong>：在页面中添加带有唯一<code>id</code>属性的元素</li>
            <li><strong>创建锚点链接</strong>：添加指向该锚点的链接（使用<code>#id</code>格式）</li>
        </ol>
        
        <pre>/* 1. 锚点元素 - 在HTML中 */
&lt;div id="section1"&gt;这是第一个部分&lt;/div&gt;
&lt;div id="section2"&gt;这是第二个部分&lt;/div&gt;

/* 2. 锚点链接 - 在HTML中 */
&lt;a href="#section1"&gt;跳转到第一部分&lt;/a&gt;
&lt;a href="#section2"&gt;跳转到第二部分&lt;/a&gt;

/* 3. 目标伪类样式 - 在CSS中 */
div:target {
    background-color: #e3f2fd;
    border: 2px solid #2196f3;
    padding: 15px;
}</pre>
        
        <h3>2.2 互动示例</h3>
        
        <div class="example">
            <h3>点击下方链接查看目标伪类效果：</h3>
            <ul class="target-links">
                <li><a href="#part1">跳转到第一部分</a></li>
                <li><a href="#part2">跳转到第二部分</a></li>
                <li><a href="#part3">跳转到第三部分</a></li>
            </ul>
            
            <div class="target-example" style="margin-top: 30px;">
                <div id="part1" style="margin-bottom: 50px;">
                    <h4>第一部分内容</h4>
                    <p>当你点击上面的"跳转到第一部分"链接时，这个区域会应用特殊样式。</p>
                </div>
                
                <div id="part2" style="margin-bottom: 50px;">
                    <h4>第二部分内容</h4>
                    <p>当你点击上面的"跳转到第二部分"链接时，这个区域会应用特殊样式。</p>
                </div>
                
                <div id="part3">
                    <h4>第三部分内容</h4>
                    <p>当你点击上面的"跳转到第三部分"链接时，这个区域会应用特殊样式。</p>
                </div>
            </div>
        </div>
        
        <h2>3. 目标伪类的实际应用场景</h2>
        
        <h3>3.1 创建选项卡（Tabs）</h3>
        
        <p>目标伪类可以用来创建简单的选项卡效果，无需JavaScript：</p>
        
        <pre>/* HTML结构 */
&lt;div class="tabs"&gt;
    &lt;a href="#tab1"&gt;选项卡1&lt;/a&gt;
    &lt;a href="#tab2"&gt;选项卡2&lt;/a&gt;
    &lt;a href="#tab3"&gt;选项卡3&lt;/a&gt;
    
    &lt;div id="tab1" class="tab-content"&gt;选项卡1的内容&lt;/div&gt;
    &lt;div id="tab2" class="tab-content"&gt;选项卡2的内容&lt;/div&gt;
    &lt;div id="tab3" class="tab-content"&gt;选项卡3的内容&lt;/div&gt;
&lt;/div&gt;

/* CSS样式 */
.tab-content {
    display: none;
    padding: 15px;
    background-color: #f9f9f9;
    border: 1px solid #ddd;
    border-top: none;
}

.tab-content:target {
    display: block;
}</pre>
        
        <div class="example">
            <h3>选项卡示例：</h3>
            <div class="tabs">
                <a href="#tab1" style="display: inline-block; padding: 10px 15px; background-color: #f1f1f1; text-decoration: none; color: #333; border-radius: 4px 4px 0 0; margin-right: 5px;">选项卡1</a>
                <a href="#tab2" style="display: inline-block; padding: 10px 15px; background-color: #f1f1f1; text-decoration: none; color: #333; border-radius: 4px 4px 0 0; margin-right: 5px;">选项卡2</a>
                <a href="#tab3" style="display: inline-block; padding: 10px 15px; background-color: #f1f1f1; text-decoration: none; color: #333; border-radius: 4px 4px 0 0;">选项卡3</a>
                
                <div id="tab1" class="tab-content">
                    <h4>选项卡1的内容</h4>
                    <p>这是选项卡1中显示的内容。通过点击上方的选项卡链接，可以切换显示不同的内容区域。</p>
                </div>
                
                <div id="tab2" class="tab-content">
                    <h4>选项卡2的内容</h4>
                    <p>这是选项卡2中显示的内容。这种方式创建的选项卡不需要任何JavaScript代码。</p>
                </div>
                
                <div id="tab3" class="tab-content">
                    <h4>选项卡3的内容</h4>
                    <p>这是选项卡3中显示的内容。CSS的:target伪类使得这种交互成为可能。</p>
                </div>
            </div>
        </div>
        
        <h3>3.2 创建手风琴/折叠面板效果</h3>
        
        <p>目标伪类还可以用来创建手风琴（accordion）效果：</p>
        
        <pre>/* HTML结构 */
&lt;div class="faq"&gt;
    &lt;div class="faq-item"&gt;
        &lt;a href="#faq1" class="faq-question"&gt;问题1：什么是CSS目标伪类？&lt;/a&gt;
        &lt;div id="faq1" class="faq-answer"&gt;
            CSS目标伪类(:target)用于匹配当前URL片段所指向的元素...
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;!-- 更多问题... --&gt;
&lt;/div&gt;

/* CSS样式 */
.faq-answer {
    display: none;
}

.faq-answer:target {
    display: block;
}</pre>
        
        <div class="example">
            <h3>手风琴示例：</h3>
            <div class="faq">
                <div class="faq-item">
                    <a href="#faq1" class="faq-question">问题1：什么是CSS目标伪类？</a>
                    <div id="faq1" class="faq-answer">
                        <p>CSS目标伪类(:target)用于匹配当前URL片段所指向的元素。当URL的片段标识符与页面中某个元素的id属性值相匹配时，该元素就会被:target伪类选中并应用相应的样式。</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <a href="#faq2" class="faq-question">问题2：目标伪类有什么实际用途？</a>
                    <div id="faq2" class="faq-answer">
                        <p>目标伪类常用于创建选项卡、手风琴效果、图片轮播等交互组件，而无需使用JavaScript。它也可以用于突出显示当前激活的导航项或页面部分。</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <a href="#faq3" class="faq-question">问题3：目标伪类的浏览器兼容性如何？</a>
                    <div id="faq3" class="faq-answer">
                        <p>目标伪类在所有现代浏览器中都得到了很好的支持，包括Chrome、Firefox、Safari和Edge。它在IE8及更早版本中不受支持，但在现代Web开发中这通常不是问题。</p>
                    </div>
                </div>
            </div>
        </div>
        
        <h2>4. 常见问题和解决方案</h2>
        
        <h3>4.1 为什么我的目标伪类样式没有生效？</h3>
        
        <div class="note">
            <p>可能的原因和解决方案：</p>
            <ul>
                <li><strong>id不匹配</strong>：确保URL中的片段标识符与元素的<code>id</code>属性值<strong>完全相同</strong>（区分大小写）</li>
                <li><strong>多个相同id</strong>：确保页面中没有多个具有相同<code>id</code>的元素（id必须是唯一的）</li>
                <li><strong>样式优先级问题</strong>：检查是否有其他优先级更高的样式覆盖了目标伪类样式</li>
                <li><strong>选择器错误</strong>：确保CSS选择器的语法正确</li>
            </ul>
        </div>
        
        <h3>4.2 如何实现平滑滚动到锚点？</h3>
        
        <p>可以在CSS中添加以下代码来实现平滑滚动效果：</p>
        
        <pre>html {
    scroll-behavior: smooth;
}</pre>
        
        <h3>4.3 如何为未被选中的元素设置默认样式？</h3>
        
        <p>可以先为所有元素设置默认样式，然后使用<code>:target</code>伪类为被选中的元素设置特殊样式：</p>
        
        <pre>/* 默认样式 */
.section {
    background-color: #f9f9f9;
    padding: 15px;
    border: 1px solid #ddd;
}

/* 被选中时的样式 */
.section:target {
    background-color: #e3f2fd;
    border-color: #2196f3;
    box-shadow: 0 0 10px rgba(33, 150, 243, 0.2);
}</pre>
        
        <h2>5. 针对你代码的改进建议</h2>
        
        <p>查看了你提供的代码片段，我发现以下几点可能需要改进：</p>
        
        <div class="important">
            <ol>
                <li>
                    <strong>图片元素的背景色</strong>：
                    <p>在你的代码中，你尝试为图片添加背景色：<code>div.anchor-points-demo>img.Gladiia:target { background-color: aqua; }</code></p>
                    <p>这可能不会产生明显效果，因为图片本身会覆盖背景色。建议：</p>
                    <pre>/* 更好的做法 */
div.anchor-points-demo>img.Gladiia:target {
    /* 添加边框或阴影效果会更明显 */
    border: 3px solid aqua;
    box-shadow: 0 0 10px aqua;
    /* 或者为图片容器添加背景色 */
}</pre>
                </li>
                <li>
                    <strong>锚点链接位置</strong>：
                    <p>确保锚点链接放在合适的位置，便于用户操作。</p>
                </li>
                <li>
                    <strong>添加视觉反馈</strong>：
                    <p>为了让用户清楚地知道哪个元素被选中，可以添加更明显的视觉效果，如边框、阴影、颜色变化等。</p>
                </li>
            </ol>
        </div>
        
        <h2>6. 完整的改进示例代码</h2>
        
        <pre>/* CSS部分 */
/* 为锚点图片添加更明显的效果 */
div.anchor-points-demo>img.Gladiia:target {
    border: 3px solid #2196f3;
    box-shadow: 0 0 15px rgba(33, 150, 243, 0.5);
    transform: scale(1.02); /* 轻微放大效果 */
    transition: all 0.3s ease; /* 平滑过渡 */
}

/* 添加平滑滚动 */
html {
    scroll-behavior: smooth;
}

/* HTML部分 */
<div class="anchor-points-demo">
    <!-- 其他图片 -->
    <img src="../assets/乌尔比安精二立绘.png" alt="乌尔比安" height="400px"><br>
    
    <!-- 锚点图片 -->
    <img src="../assets/歌蕾蒂娅皮肤立绘.png" alt="歌蕾蒂娅" height="400px" id="Gladiia" class="Gladiia">
</div>

<!-- 锚点链接 -->
<a href="#Gladiia">查看歌蕾蒂娅图片</a></pre>
        
        <h2>7. 总结</h2>
        
        <p>CSS目标伪类(:target)是一个强大但常常被忽视的工具，它可以用于创建各种交互效果而无需JavaScript。通过正确理解和使用目标伪类，你可以为用户提供更好的页面导航和交互体验。</p>
        
        <div class="highlight">
            <p>记住这些关键点：</p>
            <ul>
                <li>目标伪类匹配当前URL片段所指向的元素</li>
                <li>元素必须有唯一的<code>id</code>属性</li>
                <li>锚点链接使用<code>#id</code>格式</li>
                <li>可以用来创建选项卡、手风琴等交互效果</li>
                <li>提供明显的视觉反馈，让用户知道哪个元素被选中</li>
            </ul>
        </div>
    </div>
</body>
</html>